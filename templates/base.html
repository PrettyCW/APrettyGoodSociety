<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}A Pretty Good Society{% endblock %}</title>

  <!-- Google Font -->
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
    rel="stylesheet"
  />

  <style>
    /* ---------- Global Styles ---------- */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Roboto', sans-serif;
      line-height: 1.6;
      color: #333;
      background: #f4f7fa;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    img {
      max-width: 100%;
      display: block;
    }

    /* ---------- Utility Classes ---------- */
    .container {
      width: 90%;
      max-width: 1200px;
      margin: 0 auto;
      padding-top: 4rem; /* for fixed header space */
    }

    .btn {
      display: inline-block;
      padding: 0.75rem 1.5rem;
      border: 2px solid #2ecc71;
      background: #2ecc71;
      color: #fff;
      font-weight: 700;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.3s, color 0.3s;
    }
    .btn:hover {
      background: transparent;
      color: #2ecc71;
    }

    /* ---------- Navbar ---------- */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: rgba(255, 255, 255, 0.95);
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      z-index: 1000;
    }

    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 60px;
      padding: 0 1rem;
    }

    .logo {
      font-size: 1.25rem;
      font-weight: 700;
      color: #27ae60;
    }

    .nav-links {
      list-style: none;
      display: flex;
      gap: 1.5rem;
    }
    .nav-links li {
      position: relative;
    }
    .nav-links li a {
      font-weight: 500;
      color: #333;
      transition: color 0.3s;
      padding: 0.5rem 0;
      display: block;
    }
    .nav-links li a:hover {
      color: #27ae60;
    }

    /* ---------- Dropdown ---------- */
    .dropdown:hover .dropdown-content {
      display: block;
    }
    .dropdown-content {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      background: #fff;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      border-radius: 4px;
      min-width: 160px;
      z-index: 1000;
      list-style: none;
      margin: 0;
      padding: 0;
    }
    .dropdown-content li {
      border-bottom: 1px solid #ececec;
    }
    .dropdown-content li:last-child {
      border-bottom: none;
    }
    .dropdown-content li a {
      padding: 0.75rem 1rem;
      color: #333;
      white-space: nowrap;
      display: block;
    }
    .dropdown-content li a:hover {
      background: #f0f0f0;
      color: #27ae60;
    }

    /* ---------- Discord Button ---------- */
    .discord-btn {
      border: 2px solid #7289da;
      background: #7289da;
      color: #fff;
      font-weight: 700;
      border-radius: 4px;
      padding: 0.5rem 1rem;
      transition: background 0.3s, color 0.3s;
    }
    .discord-btn:hover {
      background: transparent;
      color: #7289da;
    }

    /* ---------- Hero Section (only used on homepage) ---------- */
    .hero {
      height: 100vh;
      background: linear-gradient(135deg, #27ae60, #2ecc71);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      color: #fff;
      padding: 0 1rem;
      position: relative;
    }

    .hero h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    .typewriter {
      font-size: 1.5rem;
      font-weight: 400;
      height: 2rem; /* Reserve space */
      overflow: hidden;
      white-space: nowrap;
      border-right: 2px solid rgba(255,255,255,0.75);
      box-sizing: border-box;
    }

    .hero p {
      margin: 1.5rem 0;
      max-width: 600px;
      font-size: 1rem;
      line-height: 1.6;
    }

    .scroll-down {
      position: absolute;
      bottom: 20px;
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.8);
      animation: bounce 2s infinite;
      cursor: pointer;
    }
    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(8px); }
      60% { transform: translateY(4px); }
    }

    /* ---------- Sections (Synopses + Content) ---------- */
    section {
      padding: 5rem 0;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    section.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .section-header {
      text-align: center;
      margin-bottom: 2rem;
      color: #27ae60;
      font-size: 2rem;
    }
    .section-content {
      max-width: 800px;
      margin: 0 auto;
      font-size: 1rem;
      line-height: 1.6;
      text-align: center;
    }
    .section-content .learn-more {
      margin-top: 1.5rem;
      display: inline-block;
    }

    /* ---------- Tables (for Leaderboard, Event, Player Pages) ---------- */
    .table-responsive {
      overflow-x: auto;
      margin-top: 2rem;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background: #fff;
      margin-bottom: 2rem;
    }
    th, td {
      padding: 0.75rem 1rem;
      border: 1px solid #ddd;
      text-align: center;
    }
    th {
      background-color: #27ae60;
      color: #fff;
      font-weight: 600;
    }
    tr:nth-child(even) td {
      background-color: #f9f9f9;
    }

    /* Info Note under Player table */
    .note {
      text-align: center;
      font-size: 0.95rem;
      color: #555;
      margin-top: 1rem;
    }

    /* ---------- Footer ---------- */
    footer {
      background: #2c3e50;
      color: #fff;
      text-align: center;
      padding: 1.5rem 0;
      font-size: 0.9rem;
    }
    footer a {
      color: #1abc9c;
    }

    @media (max-width: 768px) {
      .hero h1 {
        font-size: 2.5rem;
      }
      .typewriter {
        font-size: 1.25rem;
      }
      .nav-links {
        display: none;
      }
      .section-header {
        font-size: 1.75rem;
      }
      th, td {
        padding: 0.5rem 0.75rem;
      }
    }

        /* ─────── Make all <a> tags look clickable on hover ───────── */
    a {
      transition: color 0.2s ease, text-decoration 0.2s ease;
      cursor: pointer;            /* show pointer hand on all links */
    }

    a:hover {
      color: #27ae60;             /* change to your accent color on hover */
      text-decoration: underline; /* add an underline on hover */
    }

    /* ─────── Optional: highlight entire table row on hover ───── */
    .table-responsive table tbody tr:hover {
      background-color: #f0f0f0;  /* light gray background on row hover */
    }

  </style>
</head>

<body>
  <!-- ========== HEADER / NAVBAR ========== -->
  <!-- ========== HEADER / NAVBAR ========== -->
    <header>
      <div class="container">
        <nav>
          <div class="logo">
            <a href="{{ url_for('home') }}">A Pretty Good Society</a>
          </div>
          <ul class="nav-links">
            <!-- ─── 2v2 League Dropdown ─────────────────────────────── -->
            <li class="dropdown">
              <a href="javascript:void(0)">2v2 League ▾</a>
              <ul class="dropdown-content">
                <li><a href="{{ url_for('teams_2v2') }}">Teams</a></li>
                <li><a href="{{ url_for('leaderboard_2v2') }}">Leaderboard</a></li>
                <li><a href="{{ url_for('results_2v2') }}">Fixtures</a></li>
              </ul>
            </li>

            <!-- ─── 1v1 League Dropdown ─────────────────────────────── -->
            <li class="dropdown">
              <a href="javascript:void(0)">1v1 League ▾</a>
              <ul class="dropdown-content">
                <li><a href="{{ url_for('players_1v1') }}">Players</a></li>
                <li><a href="{{ url_for('leaderboard_1v1') }}">Leaderboard</a></li>
                <li><a href="{{ url_for('results_1v1') }}">Fixtures</a></li>
              </ul>
            </li>

            <!-- ─── Society Dropdown ───────────────────────────────── -->
            <li class="dropdown">
              <a href="javascript:void(0)">Society ▾</a>
              <ul class="dropdown-content">
                <li>
                  <a href="{{ url_for('society_players') }}">Players</a>
                </li>
                <li>
                  <a href="{{ url_for('show_leaderboard') }}">Leaderboard</a>
                </li>
                <li>
                  <a href="{{ url_for('society_results') }}">Results</a>
                </li>
              </ul>
            </li>

            <!-- ─── Discord Button ─────────────────────────────────── -->
            <li>
              <a
                href="https://discord.gg/HqcqXN7sPm"
                class="discord-btn"
                target="_blank"
                rel="noopener noreferrer"
              >
                Discord
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </header>


  <!-- ========== MAIN CONTENT ========== -->
  <main>
    {% block content %}{% endblock %}
  </main>

  <!-- ========== FOOTER ========== -->
  <footer>
    <div class="container">
      <p><span id="year"></span> A Pretty Good Society.</p>
      <p>
        <a href="https://discord.gg/HqcqXN7sPm" target="_blank">Join Our Discord</a>
      </p>
    </div>
  </footer>

  <!-- ========== JAVASCRIPT ========== -->
  <script>
    // ---------- Typewriter Effect ----------
    const typewriterElement = document.getElementById('typewriter');
    const phrases = [
      'Team Up. Tee Off. Triumph.',
      'Solo Glory in 1v1 Matches.',
      'Compete in A Pretty Good Society.',
      'Socialize with Daily Tournaments.',
      'Connect on Discord & Compete.'
    ];
    const typingSpeed = 100; // ms per character
    const erasingSpeed = 50;
    const delayBetweenPhrases = 2000; // ms before erasing
    let phraseIndex = 0;
    let charIndex = 0;
    let isDeleting = false;

    function type() {
      const current = phrases[phraseIndex];
      if (!isDeleting) {
        // Typing
        typewriterElement.textContent = current.substring(0, charIndex + 1);
        charIndex++;
        if (charIndex === current.length) {
          isDeleting = true;
          setTimeout(type, delayBetweenPhrases);
        } else {
          setTimeout(type, typingSpeed);
        }
      } else {
        // Deleting
        typewriterElement.textContent = current.substring(0, charIndex - 1);
        charIndex--;
        if (charIndex === 0) {
          isDeleting = false;
          phraseIndex = (phraseIndex + 1) % phrases.length;
          setTimeout(type, typingSpeed);
        } else {
          setTimeout(type, erasingSpeed);
        }
      }
    }
    document.addEventListener('DOMContentLoaded', () => {
      if (phrases.length) setTimeout(type, typingSpeed + 500);
    });

    // ---------- Scroll Reveal ----------
    const sections = document.querySelectorAll('section');
    const revealOnScroll = () => {
      const triggerBottom = window.innerHeight * 0.85;
      sections.forEach(section => {
        const sectionTop = section.getBoundingClientRect().top;
        if (sectionTop < triggerBottom) {
          section.classList.add('visible');
        }
      });
    };
    window.addEventListener('scroll', revealOnScroll);
    window.addEventListener('load', revealOnScroll);

    // ---------- Footer Year Auto-update ----------
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
